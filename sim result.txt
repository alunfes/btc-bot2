param = {'max_depth':4,
                 'num_class':4,
                 'eta':0.001,
                 'min_child_weight':1,
                 'gamma':1,
                 'subsample':0.9,
                 'colsample_bytree':0.9,
                 'lambda':3,
                 'objective':'multi:softmax',
                 'tree_method':'gpu_hist',
                 'early_stopping_rounds':30,
                 'silent':True}
        num_round = 10000


train_x (10000, 345)
train_y (10000,)
i=0
train accuracy = 0.7491, test accuracy = 0.4645
pl=-51.040000000000134,num=68,win_rate=0.5
elapsed_time:528.4546322822571[sec]
train_x (10000, 345)
train_y (10000,)
i=1
train accuracy = 0.7598, test accuracy = 0.5285
pl=269.39000000000004,num=66,win_rate=0.5303030303030303
elapsed_time:510.6932010650635[sec]
train_x (10000, 345)
train_y (10000,)
i=2
train accuracy = 0.7496, test accuracy = 0.5675
pl=278.3,num=49,win_rate=0.6122448979591837
elapsed_time:505.9845564365387[sec]
train_x (10000, 345)
train_y (10000,)
i=3
train accuracy = 0.7501, test accuracy = 0.604
pl=170.27999999999992,num=44,win_rate=0.5909090909090909
elapsed_time:506.37165570259094[sec]
train_x (10000, 345)
train_y (10000,)
i=4
train accuracy = 0.7454, test accuracy = 0.6395
pl=386.1,num=37,win_rate=0.6216216216216216
elapsed_time:506.2397804260254[sec]
train_x (10000, 345)
train_y (10000,)
i=5
train accuracy = 0.7489, test accuracy = 0.6175
pl=57.53,num=31,win_rate=0.5161290322580645
elapsed_time:507.8414731025696[sec]
train_x (10000, 345)
train_y (10000,)
i=6
train accuracy = 0.7425, test accuracy = 0.559
pl=567.93,num=56,win_rate=0.7142857142857143
elapsed_time:508.8990180492401[sec]
train_x (10000, 345)
train_y (10000,)
i=7
train accuracy = 0.7471, test accuracy = 0.5415
pl=223.85,num=55,win_rate=0.6909090909090909
elapsed_time:507.3008887767792[sec]
train_x (10000, 345)
train_y (10000,)
i=8
train accuracy = 0.7465, test accuracy = 0.4635
pl=-782.9799999999999,num=52,win_rate=0.5576923076923077
elapsed_time:506.5745761394501[sec]
train_x (10000, 345)
train_y (10000,)
i=9
train accuracy = 0.7418, test accuracy = 0.4885
pl=-125.06999999999994,num=61,win_rate=0.6721311475409836
elapsed_time:501.7260341644287[sec]


param = {'max_depth':4,
                 'num_class':4,
                 'eta':0.001,
                 'min_child_weight':1,
                 'gamma':1,
                 'subsample':0.9,
                 'colsample_bytree':0.9,
                 'lambda':3,
                 'objective':'multi:softmax',
                 'tree_method':'gpu_hist',
                 'early_stopping_rounds':30,
                 'silent':True}
        num_round = 10000
max_term = 200

        train_x (10000, 615)
train_y (10000,)
i=0
train accuracy = 0.8337, test accuracy = 0.459
pl=-235.29000000000005,num=46,win_rate=0.6086956521739131
elapsed_time:14.105462741851806[min]
train_x (10000, 615)
train_y (10000,)
i=1
train accuracy = 0.8335, test accuracy = 0.497
pl=-67.65000000000003,num=40,win_rate=0.625
elapsed_time:13.74793576002121[min]
train_x (10000, 615)
train_y (10000,)
i=2
train accuracy = 0.8358, test accuracy = 0.551
pl=121.66,num=39,win_rate=0.6153846153846154
elapsed_time:13.606795239448548[min]
train_x (10000, 615)
train_y (10000,)
i=3
train accuracy = 0.8269, test accuracy = 0.5975
pl=222.53000000000006,num=33,win_rate=0.696969696969697
elapsed_time:13.530554338296254[min]
train_x (10000, 615)
train_y (10000,)
i=4
train accuracy = 0.8251, test accuracy = 0.645
pl=-80.19000000000003,num=33,win_rate=0.5151515151515151
elapsed_time:13.597614856561025[min]
train_x (10000, 615)
train_y (10000,)
i=5
train accuracy = 0.8176, test accuracy = 0.592
pl=-238.81000000000006,num=40,win_rate=0.425
elapsed_time:13.684698700904846[min]
train_x (10000, 615)
train_y (10000,)
i=6
train accuracy = 0.8135, test accuracy = 0.5285
pl=-502.1500000000001,num=47,win_rate=0.5106382978723404
elapsed_time:13.676438411076864[min]
train_x (10000, 615)
train_y (10000,)
i=7
train accuracy = 0.8188, test accuracy = 0.536
pl=42.570000000000036,num=47,win_rate=0.5531914893617021
elapsed_time:13.634796126683552[min]
train_x (10000, 615)
train_y (10000,)
i=8
train accuracy = 0.8107, test accuracy = 0.415
pl=-579.59,num=48,win_rate=0.5
elapsed_time:13.525249707698823[min]
train_x (10000, 615)
train_y (10000,)
i=9
train accuracy = 0.803, test accuracy = 0.4595
pl=-683.3199999999999,num=48,win_rate=0.5625
elapsed_time:13.397730688254038[min]



param = {'max_depth':4,
                 'num_class':4,
                 'eta':0.001,
                 'min_child_weight':1,
                 'gamma':1,
                 'subsample':0.9,
                 'colsample_bytree':0.9,
                 'lambda':3,
                 'objective':'multi:softmax',
                 'tree_method':'gpu_hist',
                 'early_stopping_rounds':30,
                 'silent':True}
        num_round = 10000
MarketData.initialize_from_bot_csv(100, 60, 500)


train_x (10000, 315)
train_y (10000,)
i=0
train accuracy = 0.7287, test accuracy = 0.297
pl=-603.8999999999993,num=152,win_rate=0.47368421052631576
elapsed_time:8.161142226060232[min]
train_x (10000, 315)
train_y (10000,)
i=1
train accuracy = 0.7261, test accuracy = 0.3025
pl=144.86999999999998,num=147,win_rate=0.5578231292517006
elapsed_time:7.850332895914714[min]
train_x (10000, 315)
train_y (10000,)
i=2
train accuracy = 0.7163, test accuracy = 0.306
pl=219.45,num=139,win_rate=0.5899280575539568
elapsed_time:7.825622626145681[min]
train_x (10000, 315)
train_y (10000,)
i=3
train accuracy = 0.7133, test accuracy = 0.2855
pl=339.13,num=126,win_rate=0.5714285714285714
elapsed_time:7.757309130827585[min]
train_x (10000, 315)
train_y (10000,)
i=4
train accuracy = 0.7119, test accuracy = 0.296
pl=297.77,num=138,win_rate=0.5579710144927537
elapsed_time:7.827802550792694[min]
train_x (10000, 315)
train_y (10000,)
i=5
train accuracy = 0.7112, test accuracy = 0.317
pl=354.41999999999996,num=149,win_rate=0.5436241610738255
elapsed_time:7.892462352911632[min]
train_x (10000, 315)
train_y (10000,)
i=6
train accuracy = 0.721, test accuracy = 0.3585
pl=1256.4199999999996,num=138,win_rate=0.6666666666666666
elapsed_time:7.86596675713857[min]
train_x (10000, 315)
train_y (10000,)

i=7
train accuracy = 0.7242, test accuracy = 0.3655
pl=280.94000000000005,num=118,win_rate=0.5423728813559322
elapsed_time:7.863942384719849[min]
train_x (10000, 315)
train_y (10000,)
i=8
train accuracy = 0.7249, test accuracy = 0.3185
pl=-366.62999999999994,num=97,win_rate=0.5773195876288659
elapsed_time:7.93452961842219[min]
train_x (10000, 315)
train_y (10000,)
i=9
train accuracy = 0.7343, test accuracy = 0.315
pl=-334.8400000000001,num=119,win_rate=0.5546218487394958
elapsed_time:7.940578007698059[min]


train_length = 5000
test_length = 1000
window = 500


train_x (5000, 315)
train_y (5000,)
i=0
train accuracy = 0.892, test accuracy = 0.417
pl=165.43999999999997,num=59,win_rate=0.5254237288135594
elapsed_time:5.6492464701334635[min]
train_x (5000, 315)
train_y (5000,)
i=1
train accuracy = 0.8952, test accuracy = 0.33
pl=-428.45000000000016,num=60,win_rate=0.5
elapsed_time:5.458100454012553[min]
train_x (5000, 315)
train_y (5000,)
i=2
train accuracy = 0.885, test accuracy = 0.291
pl=-597.4100000000001,num=40,win_rate=0.6
elapsed_time:5.454071072737376[min]
train_x (5000, 315)
train_y (5000,)
i=3
train accuracy = 0.8764, test accuracy = 0.316
pl=241.99999999999997,num=49,win_rate=0.5714285714285714
elapsed_time:5.4268118421236675[min]
train_x (5000, 315)
train_y (5000,)
i=4
train accuracy = 0.892, test accuracy = 0.342
pl=-277.0899999999999,num=46,win_rate=0.5869565217391305
elapsed_time:5.456142322222392[min]
train_x (5000, 315)
train_y (5000,)
i=5
train accuracy = 0.88, test accuracy = 0.395
pl=641.4100000000001,num=50,win_rate=0.7
elapsed_time:5.426372905572255[min]
train_x (5000, 315)
train_y (5000,)
i=6
train accuracy = 0.88, test accuracy = 0.357
pl=208.01,num=42,win_rate=0.7142857142857143
elapsed_time:5.465466630458832[min]
train_x (5000, 315)
train_y (5000,)
i=7
train accuracy = 0.8708, test accuracy = 0.347
pl=234.52,num=41,win_rate=0.6829268292682927
elapsed_time:5.478174110253652[min]
train_x (5000, 315)
train_y (5000,)
i=8
train accuracy = 0.8638, test accuracy = 0.39
pl=-38.389999999999986,num=46,win_rate=0.5434782608695652
elapsed_time:5.507249216238658[min]
train_x (5000, 315)
train_y (5000,)
i=9
train accuracy = 0.8552, test accuracy = 0.308
pl=-140.02999999999992,num=36,win_rate=0.5833333333333334
elapsed_time:5.447228503227234[min]
train_x (5000, 315)
train_y (5000,)
i=10
train accuracy = 0.8668, test accuracy = 0.378
pl=158.95,num=27,win_rate=0.5555555555555556
elapsed_time:5.463428592681884[min]
train_x (5000, 315)
train_y (5000,)
i=11
train accuracy = 0.8556, test accuracy = 0.466
pl=284.78999999999996,num=27,win_rate=0.6296296296296297
elapsed_time:5.390101659297943[min]
train_x (5000, 315)
train_y (5000,)
i=12
train accuracy = 0.848, test accuracy = 0.568
pl=197.12000000000012,num=32,win_rate=0.5625
elapsed_time:5.394784514109293[min]
train_x (5000, 315)
train_y (5000,)
i=13
train accuracy = 0.8492, test accuracy = 0.619
pl=418.33000000000004,num=23,win_rate=0.6521739130434783
elapsed_time:5.368762354056041[min]
train_x (5000, 315)
train_y (5000,)
i=14
train accuracy = 0.852, test accuracy = 0.648
pl=182.60000000000002,num=12,win_rate=0.5
elapsed_time:5.429336150487264[min]
train_x (5000, 315)
train_y (5000,)
i=15
train accuracy = 0.8556, test accuracy = 0.634
pl=-409.86,num=12,win_rate=0.5
elapsed_time:5.395017397403717[min]
train_x (5000, 315)
train_y (5000,)
i=16
train accuracy = 0.8592, test accuracy = 0.671
pl=281.93,num=14,win_rate=0.7857142857142857
elapsed_time:5.407086940606435[min]
train_x (5000, 315)
train_y (5000,)
i=17
train accuracy = 0.8576, test accuracy = 0.62
pl=89.21000000000001,num=12,win_rate=0.6666666666666666
elapsed_time:5.361717609564463[min]
train_x (5000, 315)
train_y (5000,)
i=18
train accuracy = 0.8664, test accuracy = 0.393
pl=-262.35000000000014,num=31,win_rate=0.7419354838709677
elapsed_time:5.355252273877462[min]
train_x (5000, 315)
train_y (5000,)
i=19
train accuracy = 0.8684, test accuracy = 0.407
pl=-684.3100000000001,num=24,win_rate=0.5833333333333334
elapsed_time:5.356511032581329[min]


param = {'max_depth':4,
                 'num_class':4,
                 'eta':0.005,
                 'min_child_weight':1,
                 'gamma':1,
                 'subsample':0.9,
                 'colsample_bytree':0.9,
                 'lambda':3,
                 'objective':'multi:softmax',
                 'tree_method':'gpu_hist',
                 'early_stopping_rounds':30,
                 'silent':True}
        num_round = 10000


train_x (10000, 315)
train_y (10000,)
i=0
train accuracy = 0.9891, test accuracy = 0.4025
pl=46.42000000000011,num=104,win_rate=0.4807692307692308
elapsed_time:8.225586048762004[min]
train_x (10000, 315)
train_y (10000,)
i=1
train accuracy = 0.9898, test accuracy = 0.441
pl=587.8399999999998,num=100,win_rate=0.57
elapsed_time:7.926320465405782[min]
train_x (10000, 315)
train_y (10000,)
i=2
train accuracy = 0.9859, test accuracy = 0.485
pl=881.1,num=91,win_rate=0.5934065934065934
elapsed_time:7.899361149470011[min]
train_x (10000, 315)
train_y (10000,)
i=3
train accuracy = 0.9849, test accuracy = 0.486
pl=241.77999999999992,num=80,win_rate=0.55
elapsed_time:7.877822728951772[min]
train_x (10000, 315)
train_y (10000,)
i=4
train accuracy = 0.9816, test accuracy = 0.5635
pl=135.07999999999998,num=55,win_rate=0.509090909090909
elapsed_time:7.889136942227681[min]
train_x (10000, 315)
train_y (10000,)
i=5
train accuracy = 0.9823, test accuracy = 0.5555
pl=184.90999999999997,num=51,win_rate=0.5294117647058824
elapsed_time:7.891420614719391[min]
train_x (10000, 315)
train_y (10000,)
i=6
train accuracy = 0.9783, test accuracy = 0.502
pl=137.94,num=74,win_rate=0.581081081081081
elapsed_time:7.894593513011932[min]
train_x (10000, 315)
train_y (10000,)
i=7
train accuracy = 0.975, test accuracy = 0.5145
pl=352.1099999999999,num=66,win_rate=0.5909090909090909
elapsed_time:7.907524486382802[min]
train_x (10000, 315)
train_y (10000,)
i=8
train accuracy = 0.9747, test accuracy = 0.452
pl=85.8,num=76,win_rate=0.5657894736842105
elapsed_time:7.895552269617716[min]
train_x (10000, 315)
train_y (10000,)
i=9
train accuracy = 0.9728, test accuracy = 0.4795
pl=670.3400000000001,num=86,win_rate=0.6744186046511628
elapsed_time:7.864575978120168[min]



eta = 0.005
MarketData.initialize_from_bot_csv(100, 45, 500)


train_x (10000, 315)
train_y (10000,)
i=0
train accuracy = 0.9893, test accuracy = 0.3175
pl=-81.50999999999993,num=147,win_rate=0.5034013605442177
elapsed_time:8.1991459329923[min]
train_x (10000, 315)
train_y (10000,)
i=1
train accuracy = 0.9911, test accuracy = 0.301
pl=551.7599999999996,num=148,win_rate=0.5675675675675675
elapsed_time:7.891888658205668[min]
train_x (10000, 315)
train_y (10000,)
i=2
train accuracy = 0.9887, test accuracy = 0.327
pl=638.4399999999996,num=145,win_rate=0.5793103448275863
elapsed_time:7.867014364401499[min]
train_x (10000, 315)
train_y (10000,)
i=3
train accuracy = 0.9896, test accuracy = 0.2975
pl=374.44,num=140,win_rate=0.5428571428571428
elapsed_time:7.833970208962758[min]
train_x (10000, 315)
train_y (10000,)
i=4
train accuracy = 0.9878, test accuracy = 0.371
pl=530.42,num=102,win_rate=0.5490196078431373
elapsed_time:7.861421612898509[min]
train_x (10000, 315)
train_y (10000,)
i=5
train accuracy = 0.9875, test accuracy = 0.372
pl=418.44,num=102,win_rate=0.5196078431372549
elapsed_time:7.908520869414011[min]
train_x (10000, 315)
train_y (10000,)
i=6
train accuracy = 0.9869, test accuracy = 0.389
pl=932.03,num=105,win_rate=0.6285714285714286
elapsed_time:7.910574313004812[min]
train_x (10000, 315)
train_y (10000,)
i=7
train accuracy = 0.982, test accuracy = 0.3855
pl=938.4099999999997,num=114,win_rate=0.6403508771929824
elapsed_time:7.868529733022054[min]
train_x (10000, 315)
train_y (10000,)
i=8
train accuracy = 0.9793, test accuracy = 0.3165
pl=200.9699999999999,num=91,win_rate=0.6153846153846154
elapsed_time:7.877782106399536[min]
train_x (10000, 315)
train_y (10000,)
i=9
train accuracy = 0.9796, test accuracy = 0.366
pl=861.9599999999998,num=114,win_rate=0.6578947368421053
elapsed_time:7.848464131355286[min]